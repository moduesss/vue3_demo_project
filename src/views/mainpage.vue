<template>
  <main>
    <h1><strong>Cosmic</strong> ToDo</h1>

    <TodoItem v-if="editingTask" :task="editingTask" @submit="handleSubmit" />
    <TodoList @update-table="updateTasks" />
    <TaskTable>
      <!-- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ -->
      <template #header-title>
        <strong>–ó–∞–¥–∞—á–∞</strong>
      </template>
      <template #header-importance>
        <span>–í–∞–∂–Ω–æ—Å—Ç—å</span>
      </template>

      <template #cell="{ task, field }">
    <span v-if="field === 'importance' && task.importance === '–í—ã—Å–æ–∫–∞—è'">
      üî• {{ task.importance }}
    </span>
        <span v-else-if="field === 'urgency' && task.urgency === '–°—Ä–æ—á–Ω–æ'">
      ‚ö†Ô∏è {{ task.urgency }}
    </span>
        <span v-else>
      {{ task[field] || '‚Äî' }}
    </span>
      </template>
    </TaskTable>
  </main>
</template>

<script setup>
import TodoList from '../components/TodoList.vue';
import TaskTable from '../components/TaskTable.vue';
import TodoItem from "../components/TodoItem.vue";
</script>
